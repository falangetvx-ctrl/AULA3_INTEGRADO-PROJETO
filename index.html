<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Projeto Integrado (EJA) ‚Äî Reda√ß√£o Funcional ‚Ä¢ Aula 3 (Premium)</title>

<!-- =========================================================
     ‚úÖ FALANGE PREMIUM ‚Äî AULA 3 (EJA)
     Tema: Frase ‚Üí Par√°grafo (3‚Äì5 frases) + Revis√£o
     Recursos Premium:
       - Entrada (Nome/Turma/Escola)
       - Narrador (pt-BR)
       - Modo Baixa Vis√£o (opcional)
       - Progresso + OK por atividade
       - Certificado liberado ao concluir tudo
       - Layout adulto (EJA)
========================================================= -->

<style>
/* =========================================================
   IN√çCIO 0) VARI√ÅVEIS / TEMA (PADR√ÉO FALANGE)
========================================================= */
:root{
  --paper:#f3f4df;
  --ink:#111;

  --violet:#8e44ad;
  --violet2:#b36cff;

  --blue:#3aa0e6;
  --blue2:#64d2ff;

  --green:#2ecc71;
  --green2:#7CFFB2;

  --orange:#f39c12;
  --orange2:#ffd08a;

  --shadow: rgba(0,0,0,.16);
  --focus: rgba(58,160,230,.28);

  /* Acessibilidade */
  --fontBase: 12.8pt;
  --fontBig:  16.0pt;

  /* Ajuste fino do produto */
  --cardPad: 12px;
  --radius:  16px;
}
/* ======================= FIM 0) VARI√ÅVEIS ======================= */

*{ box-sizing:border-box; }

/* =========================================================
   IN√çCIO 1) BODY / CENTRALIZA√á√ÉO
========================================================= */
body{
  margin:0;
  background:#e5e7eb;
  font-family: Arial, Helvetica, sans-serif;
  padding:10px;
  display:flex;
  flex-direction:column;
  align-items:center;
  overflow-x:auto;
  overflow-y:auto;
  font-size: var(--fontBase);
  color: var(--ink);
}
/* ======================= FIM 1) BODY ======================= */

/* =========================================================
   IN√çCIO 2) MODO BAIXA VIS√ÉO (opcional)
========================================================= */
body.lowVision{
  font-size: var(--fontBig);
}
body.lowVision .centerTitle{ font-size: 13.2pt; }
body.lowVision .bannerTitle{ font-size: 18pt; }
body.lowVision .bannerSub{ font-size: 13pt; }
body.lowVision .cardTitle{ font-size: 13.5pt; }
body.lowVision .hint{ font-size: 13pt; }
body.lowVision .small{ font-size: 12.8pt; }
body.lowVision textarea, body.lowVision input{
  font-size: 14.5pt; padding: 12px 12px;
}
body.lowVision .ctrlBtn{
  font-size: 12.8pt; padding: 10px 12px;
}
/* ======================= FIM 2) BAIXA VIS√ÉO ======================= */

.wrap{ display:none; flex-direction:column; gap:14px; padding-bottom:18px; }

/* =========================================================
   IN√çCIO 3) P√ÅGINA A4 (paisagem) ‚Äî padr√£o Falange
========================================================= */
.page{
  width:297mm;
  height:280mm;
  background: var(--paper);
  position:relative;
  overflow:hidden;
  box-shadow: 0 10px 30px var(--shadow);
  border-radius: 10px;
}
.content{
  position:absolute;
  left:18mm; right:18mm;
  top:16mm; bottom:18mm;
}
/* Fundo decorativo leve (adulto) */
.content::before{
  content:"";
  position:absolute;
  inset:-20px;
  background:
    radial-gradient(circle at 15% 15%, rgba(142,68,173,.12), transparent 45%),
    radial-gradient(circle at 85% 20%, rgba(58,160,230,.12), transparent 45%),
    radial-gradient(circle at 20% 85%, rgba(46,204,113,.10), transparent 42%),
    radial-gradient(circle at 85% 80%, rgba(243,156,18,.10), transparent 50%);
  pointer-events:none;
  z-index:0;
}
.content > *{ position:relative; z-index:1; }
/* ======================= FIM 3) P√ÅGINA ======================= */

/* =========================================================
   IN√çCIO 4) CABE√áALHO + BARRAS
========================================================= */
.header{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:10px;
}
.centerTitle{
  font-weight:900;
  letter-spacing:.7px;
  text-transform:uppercase;
  font-size:11pt;
  text-align:center;
  color: var(--violet);
}
.bncc{
  font-weight:900;
  font-size:10pt;
  text-align:right;
  color:#1b1b1b;
}
.bars{
  margin-top:6px;
  display:grid;
  grid-template-columns:1fr 10px 1fr;
  gap:10px;
}
.bar{ height:6px; border-radius:999px; background: linear-gradient(90deg, var(--violet), var(--blue)); }
.bar.alt{ background: linear-gradient(90deg, var(--orange), var(--green)); }
/* ======================= FIM 4) CABE√áALHO ======================= */

/* =========================================================
   IN√çCIO 5) TOP BAR (Premium)
========================================================= */
.topBar{
  width:min(297mm,96vw);
  border-radius:var(--radius);
  padding:10px;
  background:#fff;
  border:2px solid rgba(0,0,0,.12);
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}
.row{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
}
.pill{
  display:inline-flex;
  gap:6px;
  align-items:center;
  padding:6px 10px;
  border-radius:999px;
  border:2px dashed rgba(0,0,0,.18);
  background:#fafafa;
  font-weight:900;
  font-size:9.4pt;
}
.progressBar{
  width:220px; height:12px;
  border-radius:999px;
  background:#eee;
  border:1px solid rgba(0,0,0,.12);
  overflow:hidden;
}
.progressFill{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--green), var(--blue));
}
/* ======================= FIM 5) TOP BAR ======================= */

/* =========================================================
   IN√çCIO 6) BANNER (adulto / EJA)
========================================================= */
.banner{
  margin-top:10px;
  border-radius:var(--radius);
  padding:12px 14px;
  border: 2px solid rgba(0,0,0,.12);
  background: linear-gradient(90deg, rgba(58,160,230,.10), rgba(46,204,113,.10));
}
.bannerTitle{ font-weight:900; font-size:14pt; color:#2b0b3b; margin:0; }
.bannerSub{
  margin:6px 0 0 0;
  font-size:10.8pt;
  line-height:1.35;
  color:#111;
}
.badgeRow{ margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; }
.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  background:#fff;
  border: 2px dashed rgba(0,0,0,.2);
  font-weight:900;
  font-size:9.6pt;
}
/* ======================= FIM 6) BANNER ======================= */

.cols{ margin-top:10px; display:grid; grid-template-columns: 1fr 1fr; gap:10px; }

/* =========================================================
   IN√çCIO 7) CARDS (adulto)
========================================================= */
.card{
  background:#fff;
  border-radius:var(--radius);
  padding:var(--cardPad);
  border: 2px solid rgba(0,0,0,.12);
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  position:relative;
  overflow:hidden;
}
.card::before{ content:""; position:absolute; inset:0; opacity:.10; pointer-events:none; }
.card.blue::before{ background: linear-gradient(120deg, var(--blue), var(--blue2)); }
.card.green::before{ background: linear-gradient(120deg, var(--green), var(--green2)); }
.card.orange::before{ background: linear-gradient(120deg, var(--orange), var(--orange2)); }
.card.violet::before{ background: linear-gradient(120deg, var(--violet), var(--violet2)); }

.cardTitle{ margin:0 0 6px 0; text-align:center; font-weight:900; font-size:11.4pt; color:#2b0b3b; }
.hint{ margin:0 0 8px 0; text-align:center; font-size:10.4pt; line-height:1.35; color:#111; }
.small{ font-size:9.9pt; color:#111; line-height:1.35; }

.quote{
  font-weight:900;
  text-align:left;
  font-size:11pt;
  padding:10px 12px;
  border-radius:14px;
  border:2px dashed rgba(0,0,0,.18);
  background:#fafafa;
  line-height:1.35;
}
/* ======================= FIM 7) CARDS ======================= */

/* =========================================================
   IN√çCIO 8) CAMPOS / CHECKLIST
========================================================= */
textarea, input[type="text"]{
  width:100%;
  border:2px solid rgba(0,0,0,.35);
  border-radius:12px;
  padding:10px 12px;
  font-size:11.3pt;
  outline:none;
  background:#fff;
}
textarea{ min-height:110px; resize:vertical; }
textarea:focus, input:focus{
  box-shadow: 0 0 0 4px var(--focus);
  border-color: rgba(58,160,230,.75);
}

.checklist{ display:grid; gap:8px; margin-top:8px; }
.checkItem{
  display:flex;
  gap:10px;
  align-items:flex-start;
  padding:10px 12px;
  border-radius:14px;
  border:2px solid rgba(0,0,0,.10);
  background:#fff;
}
.checkItem input{ transform: scale(1.25); margin-top:2px; }
.checkItem b{ display:block; }
.checkItem .muted{ font-size:10pt; opacity:.9; }
/* ======================= FIM 8) CAMPOS ======================= */

/* =========================================================
   IN√çCIO 9) CONTROLES / FEEDBACK
========================================================= */
.controls{ margin-top:8px; display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
.ctrlBtn{
  border:2px solid rgba(0,0,0,.65);
  background:#fff;
  border-radius:12px;
  padding:8px 10px;
  cursor:pointer;
  font-weight:900;
  font-size:9.9pt;
}
.ctrlBtn:hover{ transform: translateY(-1px); }
.ctrlBtn:disabled{ opacity:.5; cursor:not-allowed; transform:none; }

.warn{
  display:none;
  background:#fff3e0;
  border:2px solid rgba(243,156,18,.6);
  border-radius:12px;
  padding:8px 10px;
  font-size:9.8pt;
  line-height:1.35;
  margin-top:8px;
}
.okBadge{
  display:none;
  padding:4px 10px;
  border-radius:999px;
  font-weight:900;
  font-size:9.8pt;
  background:#eafff1;
  border:2px solid rgba(46,204,113,.6);
}
/* ======================= FIM 9) CONTROLES ======================= */

/* =========================================================
   IN√çCIO 10) OVERLAY (entrada) + CERTIFICADO
========================================================= */
.overlay{
  position:fixed; inset:0;
  background: rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:14px;
  z-index:9999;
}
.modal{
  width:min(820px, 96vw);
  background:#fff;
  border-radius:18px;
  padding:14px;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
  border:2px solid rgba(0,0,0,.12);
}
.modal h2{ margin:0 0 8px 0; font-size:17pt; }
.modal .sub{ margin:0 0 12px 0; font-size:11.2pt; line-height:1.35; color:#111; }
.formGrid{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
@media (max-width:900px){ .formGrid{ grid-template-columns:1fr; } }
.modalActions{
  margin-top:12px;
  display:flex;
  gap:10px;
  justify-content:flex-end;
  flex-wrap:wrap;
}
.bigBtn{
  border:2px solid rgba(0,0,0,.7);
  background:#fff;
  border-radius:12px;
  padding:10px 12px;
  cursor:pointer;
  font-weight:900;
}
.bigBtn.primary{
  background: linear-gradient(90deg, rgba(58,160,230,.14), rgba(46,204,113,.14));
  border-color: rgba(58,160,230,.55);
}
.bigBtn:disabled{ opacity:.5; cursor:not-allowed; }

#certOverlay{ display:none; }
#certCard{ width:min(940px, 96vw); background:#fff; border-radius:18px; padding:14px; box-shadow: 0 18px 50px rgba(0,0,0,.35); }
#certInner{
  border:3px solid rgba(58,160,230,.55);
  border-radius:16px;
  padding:16px;
  background:
    radial-gradient(circle at 20% 20%, rgba(58,160,230,.18), transparent 40%),
    radial-gradient(circle at 80% 80%, rgba(46,204,113,.14), transparent 45%),
    linear-gradient(180deg, #f6fffb, #ffffff);
}
#certTitle{ text-align:center; font-weight:900; font-size:22pt; color:#0b3b2b; letter-spacing:.4px; }
#certSub{ margin-top:6px; text-align:center; font-weight:900; font-size:11.5pt; color:#111; }
#certName{ margin-top:12px; text-align:center; font-size:12pt; }
#certMeta{ margin-top:10px; text-align:center; font-size:10.6pt; color:#111; line-height:1.45; }
#certStamp{ margin-top:14px; display:flex; justify-content:space-between; gap:10px; align-items:flex-end; flex-wrap:wrap; }
.sig{ width:320px; border-top:2px solid rgba(0,0,0,.55); padding-top:6px; font-size:10pt; text-align:center; }
#certBtns{ margin-top:14px; display:flex; justify-content:flex-end; gap:10px; flex-wrap:wrap; }
.certBtn{ border:2px solid rgba(0,0,0,.7); background:#fff; border-radius:12px; padding:10px 12px; cursor:pointer; font-weight:900; }
/* ======================= FIM 10) OVERLAYS ======================= */
</style>
</head>

<body>

<!-- =========================================================
     IN√çCIO A) OVERLAY DE ENTRADA (Premium)
========================================================= -->
<div class="overlay" id="startOverlay">
  <div class="modal">
    <h2>‚úçÔ∏è Aula 3 Premium (EJA) ‚Äî Produ√ß√£o de Par√°grafo</h2>
    <p class="sub">
      Voc√™ vai <b>organizar ideias</b>, <b>fechar um par√°grafo</b>, escrever um <b>par√°grafo completo</b> e fazer uma <b>revis√£o simples</b>.<br>
      ‚úÖ Escrita real. ‚úÖ Tema do dia a dia. ‚úÖ Objetivo: clareza.
    </p>

    <div class="formGrid">
      <div>
        <div class="small"><b>Nome</b></div>
        <input id="inName" type="text" placeholder="Ex.: Jos√© Silva" />
      </div>
      <div>
        <div class="small"><b>Turma</b></div>
        <input id="inClass" type="text" placeholder="Ex.: EJA 4¬™ Etapa" />
      </div>
      <div>
        <div class="small"><b>Escola</b></div>
        <input id="inSchool" type="text" placeholder="Ex.: Escola Estadual ___" />
      </div>
    </div>

    <div class="modalActions">
      <button class="bigBtn" onclick="demoFill()">Preencher exemplo</button>
      <button class="bigBtn primary" id="btnEnter" onclick="enterLesson()" disabled>Entrar na aula</button>
    </div>
  </div>
</div>
<!-- ====================== FIM A) OVERLAY DE ENTRADA ====================== -->


<!-- =========================================================
     IN√çCIO B) WRAP (conte√∫do)
========================================================= -->
<div class="wrap" id="wrap">

  <!-- ===================== IN√çCIO TOP BAR ===================== -->
  <div class="topBar">
    <div class="row">
      <div class="row" style="justify-content:flex-start;">
        <span class="pill">üë§ <span id="uiName">‚Äî</span></span>
        <span class="pill">üè´ <span id="uiClass">‚Äî</span></span>
        <span class="pill">üìç <span id="uiSchool">‚Äî</span></span>
      </div>

      <div class="row" style="justify-content:flex-end;">
        <span class="pill">üìà Progresso: <b><span id="uiProg">0%</span></b></span>
        <div class="progressBar"><div class="progressFill" id="progFill"></div></div>

        <button class="ctrlBtn" onclick="speakPT(narrations.global)">üîä Narrador</button>
        <button class="ctrlBtn" onclick="toggleLowVision()">üëÅÔ∏è Baixa vis√£o</button>
        <button class="ctrlBtn" onclick="window.print()">üñ®Ô∏è Imprimir / Salvar PDF</button>
        <button class="ctrlBtn" id="btnCert" onclick="openCert()" disabled>üèÖ Certificado</button>
      </div>
    </div>
    <div class="small" style="margin-top:6px; text-align:center;">
      Fa√ßa as atividades e clique em <b>‚úÖ Conferir</b> para liberar o <b>OK</b>.
    </div>
  </div>
  <!-- ===================== FIM TOP BAR ===================== -->


  <!-- =====================================================
       P√ÅGINA 1
  ====================================================== -->
  <section class="page" aria-label="P√°gina 1">
    <div class="content">

      <!-- IN√çCIO CABE√áALHO -->
      <div class="header">
        <div></div>
        <div class="centerTitle">PROJETO INTEGRADO (EJA) ‚Ä¢ REDA√á√ÉO FUNCIONAL ‚Ä¢ AULA 3 ‚Ä¢ P√ÅGINA 1</div>
        <div class="bncc">BNCC: CG1, CG8</div>
      </div>
      <div class="bars"><div class="bar"></div><div></div><div class="bar alt"></div></div>
      <!-- FIM CABE√áALHO -->

      <!-- IN√çCIO BANNER -->
      <div class="banner">
        <h3 class="bannerTitle">üìÑ Frases viram par√°grafo</h3>
        <p class="bannerSub">
          Um par√°grafo √© um texto curto sobre <b>um assunto s√≥</b>, com <b>3 a 5 frases</b>.
          Voc√™ vai organizar, completar e escrever com clareza.
        </p>
        <div class="badgeRow">
          <span class="badge">üß© Ordem</span>
          <span class="badge">üîó Coes√£o</span>
          <span class="badge">‚úÖ Clareza</span>
        </div>
      </div>
      <!-- FIM BANNER -->

      <div class="cols">

        <!-- =================================================
             A1 ‚Äî ORGANIZAR IDEIAS (ordem l√≥gica)
        ================================================== -->
        <div class="card blue">
          <h4 class="cardTitle">üü¶ Atividade 1 ‚Äî Organizar ideias</h4>
          <p class="hint">
            Reescreva as frases na <b>ordem correta</b> (come√ßo ‚Üí meio ‚Üí fim).
          </p>

          <div class="quote">
            (1) Depois do trabalho, eu cheguei em casa.<br>
            (2) Preparei o jantar.<br>
            (3) Jantei e descansei.
          </div>

          <div class="small" style="margin-top:8px;"><b>Escreva o par√°grafo (3 frases):</b></div>
          <textarea id="a1txt" placeholder="Ex.: Depois do trabalho..."></textarea>

          <div class="controls">
            <button class="ctrlBtn" onclick="speakPT(narrations.a1)">üîä Ouvir</button>
            <button class="ctrlBtn" onclick="checkA1()">‚úÖ Conferir</button>
            <span class="okBadge" id="a1ok">OK ‚Äî organizado</span>
          </div>

          <div class="warn" id="a1msg">
            Para concluir: escreva <b>3 frases</b> sobre a mesma situa√ß√£o (chegar, preparar, jantar/descansar).
          </div>
        </div>

        <!-- =================================================
             A2 ‚Äî FRASE FINAL (fechamento de ideia)
        ================================================== -->
        <div class="card green">
          <h4 class="cardTitle">üü© Atividade 2 ‚Äî Fechar o par√°grafo</h4>
          <p class="hint">
            Complete o texto com uma <b>frase final</b> que encerre a ideia.
          </p>

          <div class="quote">
            Hoje acordei cedo. Preparei o caf√© da manh√£. Sa√≠ para trabalhar.
          </div>

          <div class="small" style="margin-top:8px;"><b>Escreva a √∫ltima frase:</b></div>
          <textarea id="a2txt" placeholder="Ex.: No fim do dia, eu voltei para casa..."></textarea>

          <div class="small" style="margin-top:8px;">
            Dica: use um conector simples: <b>Depois</b>, <b>Ent√£o</b>, <b>No fim do dia</b>.
          </div>

          <div class="controls">
            <button class="ctrlBtn" onclick="speakPT(narrations.a2)">üîä Ouvir</button>
            <button class="ctrlBtn" onclick="checkA2()">‚úÖ Conferir</button>
            <span class="okBadge" id="a2ok">OK ‚Äî finalizou</span>
          </div>

          <div class="warn" id="a2msg">
            Para concluir: escreva <b>uma frase</b> com sentido (m√≠nimo 8 caracteres) e que finalize o texto.
          </div>
        </div>

      </div>
    </div>
  </section>


  <!-- =====================================================
       P√ÅGINA 2
  ====================================================== -->
  <section class="page" aria-label="P√°gina 2">
    <div class="content">

      <div class="header">
        <div></div>
        <div class="centerTitle">PROJETO INTEGRADO (EJA) ‚Ä¢ REDA√á√ÉO FUNCIONAL ‚Ä¢ AULA 3 ‚Ä¢ P√ÅGINA 2</div>
        <div class="bncc">BNCC: CG1, CG8</div>
      </div>
      <div class="bars"><div class="bar alt"></div><div></div><div class="bar"></div></div>

      <div class="banner" style="background: linear-gradient(90deg, rgba(243,156,18,.12), rgba(142,68,173,.10));">
        <h3 class="bannerTitle">‚úçÔ∏è Escrever um par√°grafo completo</h3>
        <p class="bannerSub">
          Escreva um par√°grafo com <b>3 a 5 frases</b> sobre um tema simples do dia a dia.
        </p>
        <div class="badgeRow">
          <span class="badge">üìù 3‚Äì5 frases</span>
          <span class="badge">üîó Conectivos</span>
          <span class="badge">‚úÖ Sentido</span>
        </div>
      </div>

      <div class="cols">

        <!-- A3 -->
        <div class="card violet">
          <h4 class="cardTitle">üü™ Atividade 3 ‚Äî Meu par√°grafo</h4>
          <p class="hint">
            Tema: <b>Meu dia</b>. Escreva de 3 a 5 frases. Use pelo menos <b>1 conector</b>.
          </p>

          <div class="small">
            Conectores que valem: <b>Depois</b>, <b>Ent√£o</b>, <b>Por isso</b>, <b>Mas</b>, <b>Quando</b>, <b>No fim</b>, <b>Em seguida</b>, <b>Porque</b>.
          </div>

          <textarea id="a3txt" placeholder="Escreva aqui (3‚Äì5 frases)..."></textarea>

          <div class="controls">
            <button class="ctrlBtn" onclick="speakPT(narrations.a3)">üîä Ouvir</button>
            <button class="ctrlBtn" onclick="checkA3()">‚úÖ Conferir</button>
            <span class="okBadge" id="a3ok">OK ‚Äî par√°grafo escrito</span>
          </div>

          <div class="warn" id="a3msg">
            Para concluir: escreva <b>3 ou mais frases</b>, use <b>1 conector</b> e fa√ßa um texto com pelo menos <b>40 caracteres</b>.
          </div>
        </div>

        <!-- A4 -->
        <div class="card orange">
          <h4 class="cardTitle">üüß Atividade 4 ‚Äî Revis√£o r√°pida</h4>
          <p class="hint">
            Marque o que est√° certo no seu texto e complete 1 frase de revis√£o.
          </p>

          <div class="checklist">
            <label class="checkItem">
              <input type="checkbox" id="c1">
              <div>
                <b>Tem come√ßo, meio e fim.</b>
                <div class="muted">D√° pra entender a sequ√™ncia?</div>
              </div>
            </label>

            <label class="checkItem">
              <input type="checkbox" id="c2">
              <div>
                <b>Fala do mesmo assunto.</b>
                <div class="muted">N√£o mudou de tema no meio.</div>
              </div>
            </label>

            <label class="checkItem">
              <input type="checkbox" id="c3">
              <div>
                <b>Usei ponto final.</b>
                <div class="muted">As frases est√£o separadas.</div>
              </div>
            </label>
          </div>

          <div class="small" style="margin-top:10px;"><b>Minha revis√£o (1 frase):</b></div>
          <textarea id="a4txt" placeholder="Ex.: Meu texto est√° claro porque..."></textarea>

          <div class="controls">
            <button class="ctrlBtn" onclick="speakPT(narrations.a4)">üîä Ouvir</button>
            <button class="ctrlBtn" onclick="checkA4()">‚úÖ Conferir</button>
            <span class="okBadge" id="a4ok">OK ‚Äî revis√£o feita</span>
          </div>

          <div class="warn" id="a4msg">
            Para concluir: marque pelo menos <b>2 itens</b> e escreva <b>1 frase</b> (m√≠nimo 10 caracteres).
          </div>
        </div>

      </div>

      <!-- CARD CERT -->
      <div class="cols" style="margin-top:10px;">
        <div class="card green" style="grid-column:1/-1;">
          <h4 class="cardTitle">üèÖ Certificado Premium</h4>
          <p class="hint">Libera apenas quando A1‚ÄìA4 estiverem conclu√≠das.</p>
          <div class="warn" id="certHint" style="display:block;">üîí Ainda bloqueado: conclua todas as atividades.</div>

          <div class="controls" style="margin-top:10px;">
            <button class="ctrlBtn" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚¨ÜÔ∏è Voltar ao in√≠cio</button>
            <button class="ctrlBtn" id="btnCert2" onclick="openCert()" disabled>üèÖ Abrir certificado</button>
            <button class="ctrlBtn" onclick="speakPT('Parab√©ns! Voc√™ escreveu um par√°grafo e revisou o texto.')">üîä Mensagem</button>
          </div>
        </div>
      </div>

    </div>
  </section>

</div><!-- ===================== FIM B) WRAP ===================== -->


<!-- =========================================================
     IN√çCIO C) CERTIFICADO OVERLAY
========================================================= -->
<div class="overlay" id="certOverlay">
  <div id="certCard">
    <div id="certInner">
      <div id="certTitle">üèÖ Certificado de Conclus√£o</div>
      <div id="certSub">Projeto Integrado (EJA) ‚Äî Reda√ß√£o Funcional ‚Ä¢ Aula 3: Produ√ß√£o de Par√°grafo</div>

      <div id="certName">Aluno(a): <span id="certStudent">‚Äî</span></div>

      <div id="certMeta">
        Turma: <b><span id="certClass">‚Äî</span></b> &nbsp;‚Ä¢&nbsp;
        Escola: <b><span id="certSchool">‚Äî</span></b><br>
        Concluiu todas as atividades interativas da Aula 3 (EJA).<br>
        Data: <b><span id="certDate">‚Äî</span></b>
      </div>

      <div id="certStamp">
        <div class="sig">Professor(a) / Respons√°vel</div>
        <div class="sig">Coordena√ß√£o</div>
      </div>

      <div id="certBtns">
        <button class="certBtn" onclick="window.print()">üñ®Ô∏è Imprimir / Salvar PDF</button>
        <button class="certBtn" onclick="closeCert()">Fechar</button>
      </div>
    </div>
  </div>
</div>
<!-- ====================== FIM C) CERTIFICADO ====================== -->


<script>
/* =========================================================
   IN√çCIO 11) ESTADO (progresso)
========================================================= */
const state = {
  student:{ name:"", turma:"", escola:"" },
  done:{ a1:false, a2:false, a3:false, a4:false }
};
/* ======================= FIM 11) ESTADO ======================= */

/* =========================================================
   IN√çCIO 12) NARRA√á√ïES (pt-BR)
========================================================= */
const narrations = {
  global: "Ol√°! Esta √© a aula 3. Voc√™ vai organizar ideias, fechar um par√°grafo, escrever um par√°grafo com 3 a 5 frases e fazer uma revis√£o r√°pida.",
  a1: "Atividade 1. Reescreva as tr√™s frases em ordem l√≥gica e clique em conferir.",
  a2: "Atividade 2. Escreva uma frase final para encerrar o texto. Depois clique em conferir.",
  a3: "Atividade 3. Escreva um par√°grafo de 3 a 5 frases sobre o seu dia. Use pelo menos um conector como depois, ent√£o, por isso, mas ou quando.",
  a4: "Atividade 4. Fa√ßa a revis√£o. Marque pelo menos dois itens e escreva uma frase de revis√£o. Depois clique em conferir."
};
/* ======================= FIM 12) NARRA√á√ïES ======================= */

/* =========================================================
   IN√çCIO 13) ENTRADA (overlay)
========================================================= */
const inName   = document.getElementById("inName");
const inClass  = document.getElementById("inClass");
const inSchool = document.getElementById("inSchool");
const btnEnter = document.getElementById("btnEnter");

[inName,inClass,inSchool].forEach(el=>{
  el.addEventListener("input", ()=>{
    btnEnter.disabled = !(inName.value.trim() && inClass.value.trim() && inSchool.value.trim());
  });
});

function demoFill(){
  inName.value = "Aluno(a) Exemplo";
  inClass.value = "EJA 4¬™ Etapa";
  inSchool.value = "Escola Estadual Exemplo";
  btnEnter.disabled = false;
}

function enterLesson(){
  state.student.name   = inName.value.trim();
  state.student.turma  = inClass.value.trim();
  state.student.escola = inSchool.value.trim();

  document.getElementById("uiName").textContent = state.student.name;
  document.getElementById("uiClass").textContent = state.student.turma;
  document.getElementById("uiSchool").textContent = state.student.escola;

  document.getElementById("startOverlay").style.display = "none";
  document.getElementById("wrap").style.display = "flex";

  speakPT(narrations.global);
}
/* ======================= FIM 13) ENTRADA ======================= */

/* =========================================================
   IN√çCIO 14) NARRADOR (speechSynthesis)
========================================================= */
function speakPT(text){
  try{
    if(!("speechSynthesis" in window)) return;
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.lang = "pt-BR";
    u.rate = 0.95;
    u.pitch = 1.0;
    window.speechSynthesis.speak(u);
  }catch(e){ console.log(e); }
}
/* ======================= FIM 14) NARRADOR ======================= */

/* =========================================================
   IN√çCIO 15) BAIXA VIS√ÉO
========================================================= */
function toggleLowVision(){
  document.body.classList.toggle("lowVision");
  const on = document.body.classList.contains("lowVision");
  speakPT(on ? "Modo baixa vis√£o ativado." : "Modo baixa vis√£o desativado.");
}
/* ======================= FIM 15) BAIXA VIS√ÉO ======================= */

/* =========================================================
   IN√çCIO 16) PROGRESSO + CERTIFICADO
========================================================= */
function setOk(key, ok){
  document.getElementById(key+"ok").style.display  = ok ? "inline-block" : "none";
  document.getElementById(key+"msg").style.display = ok ? "none" : "block";
  state.done[key] = ok;
  refreshProgress();
}

function refreshProgress(){
  const total = Object.keys(state.done).length;
  const done  = Object.values(state.done).filter(Boolean).length;
  const pct   = Math.round((done/total)*100);

  document.getElementById("uiProg").textContent = pct + "%";
  document.getElementById("progFill").style.width = pct + "%";

  const unlocked = (done === total);
  document.getElementById("btnCert").disabled  = !unlocked;
  document.getElementById("btnCert2").disabled = !unlocked;

  const hint = document.getElementById("certHint");
  if(unlocked){
    hint.innerHTML = "‚úÖ Liberado! Clique em <b>üèÖ Abrir certificado</b>.";
    speakPT("Parab√©ns! Voc√™ concluiu a aula 3. O certificado est√° liberado.");
  }else{
    hint.innerHTML = "üîí Ainda bloqueado: conclua todas as atividades.";
  }
}
/* ======================= FIM 16) PROGRESSO ======================= */

/* =========================================================
   IN√çCIO 17) REGRAS DE CONFER√äNCIA (A1‚ÄìA4)
========================================================= */
function checkA1(){
  const t = document.getElementById("a1txt").value.trim();
  const sentences = t.split(/[.!?]/).filter(s=>s.trim().length>0);
  const ok = (sentences.length >= 3) && (t.length >= 20);
  setOk("a1", ok);
}

function checkA2(){
  const t = document.getElementById("a2txt").value.trim();
  const ok = t.length >= 8;
  setOk("a2", ok);
}

function checkA3(){
  const t = document.getElementById("a3txt").value.trim();
  const sentences = t.split(/[.!?]/).filter(s=>s.trim().length>0);
  const tLower = t.toLowerCase();
  const connectors = ["depois","ent√£o","por isso","mas","quando","no fim","em seguida","porque"];
  const hasConn = connectors.some(c=>tLower.includes(c));
  const ok = (sentences.length >= 3) && hasConn && (t.length >= 40);
  setOk("a3", ok);
}

function checkA4(){
  const checks = [document.getElementById("c1").checked, document.getElementById("c2").checked, document.getElementById("c3").checked];
  const count = checks.filter(Boolean).length;
  const t = document.getElementById("a4txt").value.trim();
  const ok = (count >= 2) && (t.length >= 10);
  setOk("a4", ok);
}
/* ======================= FIM 17) CONFER√äNCIAS ======================= */

/* =========================================================
   IN√çCIO 18) CERTIFICADO
========================================================= */
function openCert(){
  document.getElementById("certStudent").textContent = state.student.name || "‚Äî";
  document.getElementById("certClass").textContent   = state.student.turma || "‚Äî";
  document.getElementById("certSchool").textContent  = state.student.escola || "‚Äî";

  const d = new Date();
  const dd = String(d.getDate()).padStart(2,"0");
  const mm = String(d.getMonth()+1).padStart(2,"0");
  const yyyy = d.getFullYear();
  document.getElementById("certDate").textContent = `${dd}/${mm}/${yyyy}`;

  document.getElementById("certOverlay").style.display = "flex";
}
function closeCert(){
  document.getElementById("certOverlay").style.display = "none";
}
/* ======================= FIM 18) CERTIFICADO ======================= */
</script>

</body>
</html>
